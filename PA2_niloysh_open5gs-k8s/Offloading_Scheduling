PROMPT (Äá»€ TÃ€I 1 â€“ MEC Offloading & Scheduling)

MÃ¬nh Ä‘ang mÃ´ phá»ng 5G SA + MEC báº±ng Open5GS + UERANSIM trÃªn Kubernetes Ä‘á»ƒ lÃ m Ä‘á» tÃ i:
â€œNghiÃªn cá»©u chuyá»ƒn táº£i vÃ  láº­p lá»‹ch tÃ i nguyÃªn trong máº¡ng MECâ€.

1) MÃ´ hÃ¬nh há»‡ thá»‘ng hiá»‡n táº¡i
K8s cluster cÃ³ nhiá»u node:
masterk8s (Ä‘iá»u phá»‘i, cÃ³ Open5GS control-plane)
open5gs (site MEC1)
workerk8s (site MEC2)
ue (node cháº¡y UE pod)
Open5GS core: AMF cháº¡y NGAP trÃªn 10.10.3.200:38412 (multus interface n3).
2 gNB UERANSIM (mÃ´ phá»ng 2 vÃ¹ng MEC):
gNB mec1: ngapIp/gtpIp=10.10.3.231, tac=1, cellid=0x10
gNB mec2: ngapIp/gtpIp=10.10.3.232, tac=2, cellid=0x11
UE UERANSIM:
SUPI imsi-001010000000001, DNN internet, slice sst=1 sd=000001
Registration OK, PDU session OK
uesimtun0 Ä‘Æ°á»£c cáº¥p IP (vÃ­ dá»¥ 10.41.0.x)
Ping 8.8.8.8 OK tá»« UE pod â†’ user-plane ra Internet hoáº¡t Ä‘á»™ng.
Káº¿t ná»‘i N3 giá»¯a cÃ¡c node Ä‘Æ°á»£c fix báº±ng OVS bridge n3br + VXLAN (key=103, udp/4789) Ä‘á»ƒ Ä‘áº£m báº£o gNBâ†”AMF ping Ä‘Æ°á»£c vÃ  SCTP NG Setup OK.
Mobility test Ä‘Ã£ chá»©ng minh UE chuyá»ƒn TAC:
UE log: â€œSelected cell tac[1] â€¦â€ rá»“i sau Ä‘Ã³ â€œSelected cell tac[2] â€¦â€
AMF log: nháº­n InitialUEMessage vá»›i TAC[1] CellID[0x10] vÃ  sau Ä‘Ã³ TAC[2] CellID[0x11]
gNB mec2 log: nháº­n Initial NAS + Initial Context Setup + PDU session resources setup cho UE.

2) Má»¥c tiÃªu Ä‘á» tÃ i 1 (Offloading & Scheduling trong MEC)
MÃ¬nh muá»‘n xÃ¢y dá»±ng mÃ´ hÃ¬nh offloading: UE gá»­i task (request) tá»›i MEC, MEC quyáº¿t Ä‘á»‹nh:
xá»­ lÃ½ á»Ÿ MEC1/MEC2 (edge) hoáº·c offload lÃªn cloud (náº¿u cÃ³), vÃ 
láº­p lá»‹ch tÃ i nguyÃªn compute/network táº¡i MEC.
MÃ¬nh cáº§n báº¡n hÆ°á»›ng dáº«n theo cÃ¡c pháº§n:

MÃ´ hÃ¬nh hoÃ¡ bÃ i toÃ¡n:
Task model: kÃ­ch thÆ°á»›c input, sá»‘ chu ká»³ CPU/MI, deadline/latency budget, Ä‘á»™ Æ°u tiÃªn.
MEC resource model: CPU cores, queue, service rate, giá»›i háº¡n Ä‘á»“ng thá»i.
Network model: RTT UEâ†’MEC, bandwidth giáº£ láº­p, latency theo site (mec1 vs mec2).
Objective: minimize latency/violation, maximize throughput, fairness, utilization, minimize drops.
Thiáº¿t káº¿ & triá»ƒn khai 3 thuáº­t toÃ¡n láº­p lá»‹ch Ä‘á»ƒ so sÃ¡nh:
Round-robin
Priority queue (theo priority/deadline)
Latency-aware (chá»n MEC site + thá»© tá»± xá»­ lÃ½ Ä‘á»ƒ giáº£m E2E latency; cÃ³ thá»ƒ dÃ¹ng cost function)
Sinh lÆ°u lÆ°á»£ng báº±ng UERANSIM:
Tá»« UE pod táº¡o traffic HTTP/UDP (nhiá»u flow) hoáº·c nhiá»u UE pod (ue1, ue2, â€¦).
Control biáº¿n: request rate, packet size, burst, sá»‘ UE, tá»‰ lá»‡ task priority.
Äo KPI (chÆ°a cÃ³ Prometheus/Grafana):
End-to-end latency (client timestamp)
Task completion time / response time distribution (p50/p95/p99)
Throughput (req/s, Mbps)
Packet loss / retries
Queueing delay, queue length
CPU/memory utilization táº¡i MEC pods (kubectl top / cgroup stats)
SLA violation rate (deadline miss)
PhÃ¢n tÃ­ch & Ä‘Ã¡nh giÃ¡:
So sÃ¡nh 3 thuáº­t toÃ¡n theo KPI á»Ÿ nhiá»u má»©c táº£i (light/medium/heavy)
Nháº­n xÃ©t trade-off: latency vs fairness vs utilization
Káº¿t luáº­n thuáº­t toÃ¡n nÃ o phÃ¹ há»£p Ä‘iá»u kiá»‡n MEC (nhiá»u UE, mobility, bursty traffic)
Äá» xuáº¥t cáº£i tiáº¿n (hybrid, admission control, dynamic weights)

3) Hiá»‡n tráº¡ng / cáº§n lÃ m tiáº¿p ngay
Hiá»‡n core + gNB + UE Ä‘Ã£ hoáº¡t Ä‘á»™ng vÃ  cÃ³ Internet tá»« UE pod.
ChÆ°a cÃ i Prometheus/Grafana.
MÃ¬nh muá»‘n báº¯t Ä‘áº§u theo hÆ°á»›ng dá»±ng 2 MEC service (mec1/mec2) + má»™t scheduler/gateway (cÃ³ thá»ƒ lÃ  1 microservice) Ä‘á»ƒ thá»±c thi 3 thuáº­t toÃ¡n vÃ  Ä‘o KPI.
HÃ£y Ä‘á» xuáº¥t kiáº¿n trÃºc triá»ƒn khai cá»¥ thá»ƒ trÃªn K8s (pods/services, nodeSelector cho mec1/mec2), cÃ¡ch sinh traffic tá»« UE, cÃ¡ch log/thu tháº­p sá»‘ liá»‡u, vÃ  káº¿ hoáº¡ch thÃ­ nghiá»‡m (matrix cÃ¡c test cases).

ğŸ‘‰ HÃ£y tráº£ lá»i nhÆ° má»™t â€œroadmap thá»±c thi + checklist command-levelâ€, chia rÃµ tá»«ng bÆ°á»›c triá»ƒn khai vÃ  tá»«ng loáº¡i output cáº§n thu Ä‘á»ƒ viáº¿t luáº­n vÄƒn (hÃ¬nh/biá»ƒu Ä‘á»“/báº£ng so sÃ¡nh).
